# React のコンポーネント設計の指針 in Redwood
## このドキュメントの目的
<!-- TODO -->

## TL;DR
<!-- TODO -->

---

## 考えるポイント
- どこまでを1つのコンポーネントとするか
- どのコンポーネントにどの役割を持たせるか
  - ビジネスロジック
  - UI  
- どういうコンポーネントが理想か
  - 理想のコンポーネントの状態が前提になる
- テストしやすい設計か
- Storybook が書きやすいか


## 考えないポイント
- コードの細かい書き方
  - 命名規則、型の書き方、etc...
- ディレクトリ構成
- パフォーマンスの観点
  - React.memo, useMemo, useCallback をどのように使うか etc... 

## どんなコンポーネント設計が理想か
- コンポーネントの再利用性が高い
- コンポーネントの見通しがいい
  - どのコンポーネントに何が書いてあるかわかりやすい
  - “関心の分離” がなされている

### “関心の分離” はなにか
- 文字通り、"関心"を分離すること
- "関心"とは
  - ビジネスロジック
  - UIのロジック
    - ボタンの enable, disable
    - 色の変化
  - 状態

### コンポーネントの粒度
- Page
- Cell
- Component 

## どんなコンポーネント設計は避けたいか
- “関心の分離”がなされていない
  - ビジネスロジックとUIが混ざっている
    - なぜこれを避けたいのか？

---

# ChatGPT に質問した
## 関心の分離とは？
「関心の分離（Separation of Concerns）」は、ソフトウェア設計の原則の1つであり、特にウェブアプリケーションの開発において重要です。この原則は、複雑なシステムを管理可能な部分に分割することで、コードの再利用性、保守性、拡張性を向上させることを目的としています。

具体的な例を挙げて説明します。ウェブアプリケーションの開発では、一般的に3つの主要な関心事があります：

ユーザーインターフェース（UI）
ビジネスロジック（Business Logic）
データアクセス（Data Access）
これらの関心事を明確に分離することで、それぞれが独立して開発、テスト、変更できるようになります。

例えば、ウェブアプリケーションでのユーザー登録機能を考えてみましょう。

ユーザーインターフェース（UI）：ユーザーが登録情報を入力し、送信ボタンをクリックするUI要素を含みます。HTML、CSS、JavaScriptなどのフロントエンド技術を使用して、UIを構築します。

ビジネスロジック（Business Logic）：ユーザーから送信された情報を検証し、適切な形式でデータベースに保存する責任があります。例えば、入力されたメールアドレスの形式が正しいかどうかを確認し、重複するユーザー名がないかどうかをチェックします。このようなロジックは、サーバーサイドのプログラム（例えば、Node.js、Python、Javaなど）で実装されます。

データアクセス（Data Access）：ユーザーの登録情報をデータベースに保存し、必要に応じてデータを取得するための責任があります。データベースとのやり取りは、通常、SQLまたはORM（Object-Relational Mapping）を使用して行われます。この部分はデータベースの操作を行うためのクエリや、ORMモデルを含みます。

これらの関心を分離することで、例えばUIの変更がビジネスロジックやデータベースに影響を与えることなく行えます。また、ビジネスロジックの変更も、UIやデータアクセスに影響を与えることなく行うことができます。これにより、システムの各部分をより独立して開発、テスト、メンテナンスすることが可能になります。





